import"./modulepreload-polyfill-3cfb730f.js";const y=document.getElementById("Single"),b=document.getElementById("Multi"),f=document.getElementById("Quit");document.getElementById("backgroundAudio");const e=document.getElementById("miscAudio");var d;let l=[],o=2,c=0,i;window.onload=()=>{s(),localStorage.removeItem("Controllers"),localStorage.removeItem("Characters"),localStorage.removeItem("Mode"),typeof window.electronAPI>"u"&&(f.innerText="Download"),addEventListener("keydown",r=>{switch(r.keyCode){case 74:e.currentTime=0,e.src="./resources/Audios/menu-click-89198.mp3",e.play(),S();break;case 65:o>1&&(o--,s(),e.currentTime=0,e.src="./resources/Audios/menu-button-88360.mp3",e.play());break;case 37:o>1&&(o--,s(),e.currentTime=0,e.src="./resources/Audios/menu-button-88360.mp3",e.play());break;case 68:o<3&&(o++,s(),e.currentTime=0,e.src="./resources/Audios/menu-button-88360.mp3",e.play());break;case 39:o<3&&(o++,s(),e.currentTime=0,e.src="./resources/Audios/menu-button-88360.mp3",e.play());break}}),addEventListener("gamepadconnected",r=>{let t=r.gamepad.index;l.push(t)}),addEventListener("gamepaddisconnected",r=>{let t=r.gamepad.index;l=l.filter(n=>n!==t)}),k()};function k(){c++,l.forEach(r=>{let t=navigator.getGamepads()[r];var n=g(t.axes[0],.25),a=g(t.axes[9],.25);if(Math.abs(c-i)>10||i===void 0){t.buttons.map(p=>p.pressed).forEach((p,w)=>{if(p)switch(console.log(w),w){case 1:(Math.abs(c-i)>10||i===void 0)&&(e.currentTime=0),e.src="./resources/Audios/menu-click-89198.mp3",e.play(),S();break}});let u,m;if(t.buttons[14]&&t.buttons[15]?(u=t.buttons[14].pressed||a>0&&a<=1,m=t.buttons[15].pressed||a<0&&a>-.9):(u=a>0&&a<=1,m=a<0&&a>-.9),n<0||u){i=c,o>1&&(o--,s(),e.currentTime=0,e.src="./resources/Audios/menu-button-88360.mp3",e.play());return}if(n>0||m){i=c,o<3&&(o++,s(),e.currentTime=0,e.src="./resources/Audios/menu-button-88360.mp3",e.play());return}}}),requestAnimationFrame(k)}function s(){switch(y.style.textShadow="",b.style.textShadow="",f.style.textShadow="",o){case 1:b.style.textShadow=" 0.75rem 0.5rem 2px rgba(0, 0, 0, 1)";break;case 2:y.style.textShadow=" 0.75rem 0.5rem 2px rgba(0, 0, 0, 1)";break;case 3:f.style.textShadow=" 0.75rem 0.5rem 2px rgba(0, 0, 0, 1)";break}}function S(){switch(o){case 1:d="Multi Player",localStorage.setItem("Mode",d),setTimeout(()=>{typeof window.electronAPI<"u"?window.electronAPI.navigateTo("SelectController/index.html"):h("SelectController")},500);break;case 2:d="Single Player",localStorage.setItem("Mode",d),setTimeout(()=>{typeof window.electronAPI<"u"?window.electronAPI.navigateTo("SelectController/index.html"):h("SelectController")},500);break;case 3:typeof app<"u"?app.window.close():window.open("https://drive.google.com/uc?export=download&id=1-1neaJA5uBaN5lILdYu1WZBof6EitEAF","_blank");break}}function g(r,t,n){return n=(Math.abs(r)-t)/(1-t),n<0&&(n=0),n*(r>0?1:-1)}function h(r){const t=window.location.href,n=t.endsWith("/")?t.slice(0,-1):t;n.substring(0,n.lastIndexOf("/")),window.location.href=`${n}/${r}/`}
